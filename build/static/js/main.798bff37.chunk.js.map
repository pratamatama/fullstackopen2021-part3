{"version":3,"sources":["components/Input.js","components/Form.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Input","label","value","onChange","Form","nameValue","onNameChange","numberValue","onNumberChange","onSubmit","type","Person","person","onDelete","name","number","onClick","Persons","persons","map","baseUrl","PersonService","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","destroy","delete","Notification","message","className","isSuccess","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","notificationMessage","setNotificationMessage","showNotification","setShowNotification","notificationSuccess","setNotificationSuccess","filteredPerson","p","toLowerCase","includes","useEffect","initialPersons","catch","err","console","error","clearInput","showSuccessNotification","setTimeout","showErrorNotification","createPerson","returnedPerson","concat","updatePerson","window","confirm","e","target","preventDefault","alert","index","findIndex","_","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.798bff37.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Input = ({ label, value, onChange }) => {\r\n  return (\r\n    <div>\r\n      {label}: <input value={value} onChange={onChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Input","import React from 'react'\r\nimport Input from './Input'\r\n\r\nconst Form = ({\r\n  nameValue,\r\n  onNameChange,\r\n  numberValue,\r\n  onNumberChange,\r\n  onSubmit\r\n}) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Input label=\"name\" value={nameValue} onChange={onNameChange} />\r\n      <Input label=\"number\" value={numberValue} onChange={onNumberChange} />\r\n      <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Person = ({ person, onDelete }) => {\r\n  return (\r\n    <p>\r\n      {person.name} {person.number} &nbsp;\r\n      <button onClick={onDelete}>delete</button>\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, onDelete }) => {\r\n  return (\r\n    <div>\r\n      {persons.map((person) =>\r\n        <Person\r\n          key={person.name}\r\n          person={person}\r\n          onDelete={() => onDelete(person)}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios\r\n    .get(baseUrl)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios\r\n    .post(baseUrl, newObject)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios\r\n    .put(`${baseUrl}/${id}`, newObject)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst destroy = (id) => {\r\n  return axios\r\n    .delete(`${baseUrl}/${id}`)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst PersonService = { getAll, create, update, destroy }\r\n\r\nexport default PersonService","import React from 'react'\r\n\r\nconst Notification = ({ message, isSuccess }) => {\r\n  const className = isSuccess\r\n    ? 'notifications notifications-success'\r\n    : 'notifications notifications-error'\r\n  \r\n  return (\r\n    <div className={className}>\r\n      <p className=\"notifications__message\">{message}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Form from './components/Form'\nimport Input from './components/Input'\nimport Persons from './components/Persons'\nimport PersonService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState('')\n  const [showNotification, setShowNotification] = useState(false)\n  const [notificationSuccess, setNotificationSuccess] = useState(true)\n  \n  const filteredPerson = persons.filter(\n    p => p.name.toLowerCase().includes(filter.toLowerCase())\n  )\n\n  useEffect(() => {\n    PersonService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n      .catch(err => console.error(err))\n  }, [])\n\n  const handleNameChange = (e) => setNewName(e.target.value)\n  const handleNumberChange = (e) => setNewNumber(e.target.value)\n  const handleFilterChange = (e) => setFilter(e.target.value)\n  \n  const clearInput = () => {\n    setNewName('')\n    setNewNumber('')\n  }\n  \n  const handleSubmit = (e) => {\n    e.preventDefault()\n    \n    if (!newName || !newNumber) {\n      return alert('Please fill all the field')\n    }\n\n    const index = persons.findIndex(\n      p => p.name.toLowerCase() === newName.toLowerCase()\n    )\n\n    index === -1\n      ? createPerson()\n      : updatePerson(persons[index])\n  }\n\n  const showSuccessNotification = (message) => {\n    setNotificationMessage(message)\n    setNotificationSuccess(true)\n    setShowNotification(true)\n    setTimeout(() => setShowNotification(false), 3000)\n  }\n\n  const showErrorNotification = (message) => {\n    setNotificationMessage(message)\n    setNotificationSuccess(false)\n    setShowNotification(true)\n    setTimeout(() => setShowNotification(false), 3000)\n  }\n  \n  const createPerson = () => {\n    PersonService\n      .create({ name: newName, number: newNumber})\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        clearInput()\n        showSuccessNotification(`Added ${returnedPerson.name}`)\n      }).catch(err => {\n        console.error(err)\n        showErrorNotification(err.response.data.error)\n      })\n  }\n\n  const updatePerson = (person) => {\n    const confirmed = window.confirm(\n      `${person.name} is already added to phonebook, replace old number with a new one?`\n    )\n\n    if (!confirmed) return\n\n    PersonService\n      .update(person.id, { name: newName, number: newNumber })\n      .then(returnedPerson => {\n        setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n        clearInput()\n        showSuccessNotification(`Updated ${returnedPerson.name}`)\n      }).catch(err => {\n        console.error(err)\n        showErrorNotification(err.response.data.error)\n      })\n  }\n\n  const deletePerson = (person) => {\n    const confirmed = window.confirm(`Delete ${person.name} ?`)    \n    \n    if (!confirmed) return\n\n    PersonService\n      .destroy(person.id)\n      .then(_ => setPersons(persons.filter(p => p.id !== person.id)))\n      .catch(err => {\n        console.error(err)\n        showErrorNotification(`Information of ${person.name} has already been removed from server`)\n      })\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {showNotification &&\n        <Notification\n          message={notificationMessage}\n          isSuccess={notificationSuccess}\n        />\n      }\n      \n      <Input\n        label=\"filter shown with\"\n        value={filter}\n        onChange={handleFilterChange}\n      />\n      \n      <h2>add a new</h2>\n      <Form\n        nameValue={newName}\n        onNameChange={handleNameChange}\n        numberValue={newNumber}\n        onNumberChange={handleNumberChange}\n        onSubmit={handleSubmit}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={filteredPerson} onDelete={deletePerson} />\n    </div>\n  )\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}